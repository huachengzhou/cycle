<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>webpack  - 禅与摩托车维修艺术</title>
<meta name="description" content="简单的事情重复做,重复的事情用心做,用心的事情坚持做">
<meta name="generator" content="Hugo 0.83.1" />
<link href="https://huachengzhou.github.io/cycle//index.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/webpack/">
<link rel="stylesheet" href="https://huachengzhou.github.io/cycle/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://huachengzhou.github.io/cycle/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script src="https://huachengzhou.github.io/cycle/js/bundle.js"></script><style>
:root {--custom-font-color: white;--custom-background-color: black;}
</style>
<meta property="og:title" content="webpack " />
<meta property="og:description" content="（十五）webpack 15.1 webpack起步 15.1.1 什么是webpack webpack是一个JavaScript应用的静态模块打包工具。 从这句话中有" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/webpack/" /><meta property="og:image" content="https://huachengzhou.github.io/cycle/images/og-image.png"/><meta property="article:section" content="脚本" />
<meta property="article:published_time" content="2021-06-17T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-06-17T00:00:00&#43;00:00" /><meta property="og:site_name" content="向卓越致敬" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://huachengzhou.github.io/cycle/images/og-image.png"/>

<meta name="twitter:title" content="webpack "/>
<meta name="twitter:description" content="（十五）webpack 15.1 webpack起步 15.1.1 什么是webpack webpack是一个JavaScript应用的静态模块打包工具。 从这句话中有"/>
<meta itemprop="name" content="webpack ">
<meta itemprop="description" content="（十五）webpack 15.1 webpack起步 15.1.1 什么是webpack webpack是一个JavaScript应用的静态模块打包工具。 从这句话中有"><meta itemprop="datePublished" content="2021-06-17T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-06-17T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="11208"><meta itemprop="image" content="https://huachengzhou.github.io/cycle/images/og-image.png"/>
<meta itemprop="keywords" content="" /></head>
<body><div class="container"><header>
<h1>禅与摩托车维修艺术</h1>
<p class="description">简单的事情重复做,重复的事情用心做,用心的事情坚持做</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="https://huachengzhou.github.io/life/">life</a></li>
<li><a href="/cycle/javadir/"> Java技术栈</a></li>
<li><a href="/cycle/databases/"> 数据库</a></li>
<li><a href="/cycle/about/">关于程序员</a></li>
<li><a href="/cycle/post/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/">编译原理</a></li>
<li><a href="/cycle/post/website/">网站链接</a></li>
<li><a href="/cycle/post/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>webpack </h1>
<h1 id="十五webpack">（十五）webpack</h1>
<h2 id="151webpack起步">15.1	webpack起步</h2>
<h3 id="1511什么是webpack">15.1.1	什么是webpack</h3>
<p>webpack是一个JavaScript应用的静态模块打包工具。</p>
<p><img src="./images/15-1.png" alt=""></p>
<p>从这句话中有两个要点，<strong>模块</strong>和<strong>打包</strong>需要关注。<strong>grunt/gulp</strong>都可以打包，那有什么区别。</p>
<blockquote>
<p>模块化</p>
</blockquote>
<p>webpack可以支持前端模块化的一些方案，例如AMD、CMD、CommonJS、ES6。可以处理模块之间的依赖关系。不仅仅是js文件可以模块化，图片、css、json文件等等都可以模块化。</p>
<blockquote>
<p>打包</p>
</blockquote>
<p>webpack可以将模块资源打包成一个或者多个包，并且在打包过程中可以处理资源，例如压缩图片，将scss转成css，ES6语法转成ES5语法，将TypeScript转成JavaScript等等操作。<strong>grunt/gulp</strong>也可以打包。</p>
<p><strong>和grunt/glup的对比</strong></p>
<ul>
<li>grunt/glup的核心是Task
<ul>
<li>我们可以配置一系列的task，并且定义task要处理的事务（例如ES6/TS转化，图片压缩，scss转css）</li>
<li>之后可以让grunt/glup来执行依次这些任务，让整个流程自动化</li>
<li>所以grunt/glup也被称为前端自动化任务管理工具</li>
</ul>
</li>
<li>看一个gulp例子
<ul>
<li>task将src下的js文件转化为ES5语法</li>
<li>并输入到dist文件夹中</li>
</ul>
</li>
</ul>
<pre>const gulp = require('gulp')
    const babel = require('gulp-babel')
    gulp.task('js'()=>
      gulp.src('src/*.js')
        .pipe(babel({
          presets:['es2015']
        }))
        .pipe(gulp.dest('dist'))
    );
</pre>
<ul>
<li>什么时候使用grunt/gulp呢？
<ul>
<li>如果工程依赖简单，甚至没有模块化</li>
<li>只需要进行简单的合并/压缩</li>
<li>如果模块复杂，相互依赖性强，我们需要使用webpack</li>
</ul>
</li>
<li>grunt/glup和webpack区别
<ul>
<li>grunt/glup更加强调的是前端自动化流程，模块化不是其核心</li>
<li>webpack加强模块化开发管理，而文件压缩/合并/预处理等功能，是附带功能</li>
</ul>
</li>
</ul>
<p>webpack就是前端模块化打包工具</p>
<h3 id="1512webpack的安装">15.1.2	webpack的安装</h3>
<ol>
<li>webpack依赖node环境。</li>
<li>node环境依赖众多包，所以需要npm，npm（node packages manager）node包管理工具</li>
<li>nvm是node管理工具可以自由切换node环境版本</li>
</ol>
<p><strong>全局安装webpack</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install webpack -g
//指定版本安装
npm install webpack@3.6.0 -g
</code></pre></div><blockquote>
<p>由于vue-cli2基于webpack3.6.0
如果要用vue-cli2的可以使用<code>npm install webpack@3.6.0 -g</code></p>
</blockquote>
<p><strong>局部安装</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install webpack --save-dev
</code></pre></div><ul>
<li>
<p>在终端执行webpack命令，使用的是全局安装。</p>
</li>
<li>
<p>当在package.json中定义了scripts时，其中包括了webpack命令，那么使用的是局部webpack</p>
</li>
</ul>
<h3 id="1513----起步">15.1.3    起步</h3>
<p>新建一个文件夹，新建如下结构的目录：</p>
<p><strong>目录结构</strong></p>
<p><img src="./images/15-2.png" alt=""></p>
<p>如图所示在src文件夹（源码文件夹），dist（要发布的文件，已经处理过的）。</p>
<p><strong>1.新建入口js文件<code>main.js</code>和<code>mathUtils.js</code>，<code>main.js</code>依赖<code>mathUtils.js</code>。</strong></p>
<blockquote>
<p>mathUtils</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//1.新建mathUtils.js，用CommonJs规范导出
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">num1</span>,<span style="color:#a6e22e">num2</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">num1</span><span style="color:#f92672">+</span><span style="color:#a6e22e">num2</span>
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">mul</span>(<span style="color:#a6e22e">num1</span>,<span style="color:#a6e22e">num2</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">num1</span><span style="color:#f92672">*</span><span style="color:#a6e22e">num2</span>
}
<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">add</span>,<span style="color:#a6e22e">mul</span>
}
</code></pre></div><blockquote>
<p>main.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//2.新建入口js文件main.js 导入mathUtil.js文件，并调用
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> {<span style="color:#a6e22e">add</span>,<span style="color:#a6e22e">mul</span>} <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#34;./mathUtils.js&#34;</span>)

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">20</span>))
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">mul</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>))
</code></pre></div><p><strong>2.使用webpack命令打包js文件</strong></p>
<blockquote>
<p>注意：webpack3使用<code>webpack ./src/main.js ./dist/bundle.js</code></p>
<p>webpack4，webpack打包在01-webpack的起步目录下打开终端 <code>webpack ./scr/main.js -o ./dist/bundle.js</code></p>
</blockquote>
<p>我全局安装的是webpack@3.6.0，所以在根路径执行</p>
<p><img src="./images/15-3.png" alt=""></p>
<p>如图显示打包成功，查看dist文件夹下自动生成了一个<code>bundle.js</code>。</p>
<blockquote>
<p>bundle.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//2.新建入口js文件main.js 导入mathUtil.js文件，并调用
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> {<span style="color:#a6e22e">add</span>,<span style="color:#a6e22e">mul</span>} <span style="color:#f92672">=</span> <span style="color:#ae81ff">__</span><span style="color:#a6e22e">webpack_require__</span>(<span style="color:#ae81ff">1</span>)

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">add</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">20</span>))
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">mul</span>(<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>))

<span style="color:#75715e">/***/</span> }),
<span style="color:#75715e">/* 1 */</span>
<span style="color:#75715e">/***/</span> (<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">module</span>, <span style="color:#a6e22e">exports</span>) {

<span style="color:#75715e">//1.新建mathUtils.js，用CommonJs规范导出
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">add</span>(<span style="color:#a6e22e">num1</span>,<span style="color:#a6e22e">num2</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">num1</span><span style="color:#f92672">+</span><span style="color:#a6e22e">num2</span>
}
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">mul</span>(<span style="color:#a6e22e">num1</span>,<span style="color:#a6e22e">num2</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">num1</span><span style="color:#f92672">*</span><span style="color:#a6e22e">num2</span>
}
<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">add</span>,<span style="color:#a6e22e">mul</span>
}

</code></pre></div><p>内容很多，其中包含mathUtils.js和main.js 内容，打包成功。</p>
<p><strong>3.新建一个index.html文件，导入bundle.js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">http-equiv</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;X-UA-Compatible&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ie=edge&#34;</span>&gt;
  &lt;<span style="color:#f92672">title</span>&gt;webpack入门&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
  <span style="color:#75715e">&lt;!-- 3.新建一个indexhtml文件并使用 webpack ./src/main.js ./dist/bundle.js webpack3使用此命令 --&gt;</span>
  <span style="color:#75715e">&lt;!-- 4.引用webpack打包后的js文件 --&gt;</span>
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./dist/bundle.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>如图测试，打印成功。</p>
<p><img src="./images/15-4.png" alt=""></p>
<p><strong>4.新建一个<code>info.js</code>使用ES6的语法导出</strong></p>
<blockquote>
<p>info.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//es6语法导出
</span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;zzz&#39;</span>,
  <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span><span style="color:#ae81ff">24</span>,
}
</code></pre></div><blockquote>
<p>main.js导入info.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//使用es6语法导入
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">info</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./info.js&#39;</span>

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">name</span>)
<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">info</span>.<span style="color:#a6e22e">age</span>)
</code></pre></div><blockquote>
<p>再次使用<code>webpack ./src/main.js ./dist/bundle.js</code>，重新打包</p>
</blockquote>
<p><strong>5.打开index.html测试</strong></p>
<p><img src="./images/15-5.png" alt=""></p>
<blockquote>
<p>总结</p>
</blockquote>
<p>webpack可以帮我们打包js文件，只要指定入口文件（main.js）和输出的文件（bundle.js），不管是es6的模块化还是CommonJs的模块化，webpack都可以帮我们打包，还可以帮我们处理模块之间的依赖。</p>
<h2 id="152webpack的配置">15.2	webpack的配置</h2>
<h3 id="1521基本配置">15.2.1	基本配置</h3>
<p>如果每次都用webpack命令自己写入口文件和出口文件会很麻烦，此时我们可以使用webpack的配置。</p>
<blockquote>
<p>准备工作：复制<strong>01-webpack的起步</strong>文件夹并粘贴在同级目录，改名为<strong>02-webpack的配置</strong>。</p>
</blockquote>
<p><strong>1.在根目录（02-webpack的配置）下新建一个<code>webpack.config.js</code></strong></p>
<blockquote>
<p>webpack.config.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//1.导入node的path包获取绝对路径，需要使用npm init初始化node包
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>)

<span style="color:#75715e">//2.配置webpack的入口和出口
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./src/main.js&#39;</span>,<span style="color:#75715e">//入口文件
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">output</span><span style="color:#f92672">:</span>{
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),<span style="color:#75715e">//动态获取打包后的文件路径,path.resolve拼接路径
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span><span style="color:#75715e">//打包后的文件名
</span><span style="color:#75715e"></span>  }
}
</code></pre></div><p><strong>2.在02-webpack的配置根目录执行<code>npm init</code>初始化node包，因为配置文件中用到了node的path包</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm init 
</code></pre></div><p>初始化</p>
<p><img src="./images/15-6.png" alt=""></p>
<p><strong>3.使用webpack打包</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">webkpack
</code></pre></div><p><img src="./images/15-7.png" alt=""></p>
<p>这样入口和出口的配置已经配置完成了，只需要使用webpack命令就行了。</p>
<p>4.使用自定义脚本（script）启动</p>
<p>一般来是我们使用的是</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm run dev//开发环境
npm run build//生产环境
</code></pre></div><p>在package.json中的script中加上</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;build&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;webpack&#34;</span>
</code></pre></div><p>使用<code>npm run build</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm run build
</code></pre></div><p><img src="./images/15-8.png" alt=""></p>
<h3 id="1522全局安装和局部安装">15.2.2	全局安装和局部安装</h3>
<p>webpack有全局安装和局部安装。</p>
<blockquote>
<p>局部安装</p>
</blockquote>
<p><strong>使用<code>npm run build</code>执行webpack会先从本地查找是否有webpack，如果没有会使用全局的。</strong></p>
<p>此时本地需要安装webapck</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install webpack@3.6.0 --save-dev
</code></pre></div><p>package.json中自动加上开发时的依赖<code>devDependencies</code></p>
<p><img src="./images/15-9.png" alt=""></p>
<p>再次使用<code>npm run build</code>，使用的是本地webpack版本。</p>
<h2 id="153webpack的loader">15.3	webpack的loader</h2>
<h3 id="1531什么是loader">15.3.1	什么是loader</h3>
<p>loader是webpack中一个非常核心的概念。</p>
<p>webpack可以将js、图片、css处理打包，但是对于webpack本身是不能处理css、图片、ES6转ES5等。</p>
<p>此时就需要webpack的扩展，使用对应的loader就可以。</p>
<p><strong>loader使用</strong></p>
<blockquote>
<p>步骤一：通过npm安装需要使用的loader</p>
</blockquote>
<blockquote>
<p>步骤二：通过webpack.config.js中的modules关键字下进行配置</p>
</blockquote>
<p>大部分loader可以在webpack的官网找到对应的配置。</p>
<h3 id="1532css文件处理">15.3.2	CSS文件处理</h3>
<blockquote>
<p>准备工作：复制02-webpack的配置到根目录，改名字为03-webpack的loader</p>
</blockquote>
<p><strong>1.将除了入口文件（main.js）所有js文件放在js文件夹，新建一个css文件夹，新建一个normal.css文件</strong></p>
<blockquote>
<p>normal.css</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">body</span>{
  <span style="color:#66d9ef">background-color</span>: <span style="color:#66d9ef">red</span>;
}
</code></pre></div><p><strong>2.main.js导入依赖</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//4.依赖css文件
</span><span style="color:#75715e"></span><span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./css/normal.css&#39;</span>)
</code></pre></div><p>此时如果直接进行打包<code>npm run build</code>。</p>
<p><img src="./images/15-10.png" alt=""></p>
<blockquote>
<p>提示信息很清楚，打包到css文件时报错，提示我们可能需要一个loader来处理css文件。</p>
</blockquote>
<p><strong>3.安装css-loader</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev css-loader
</code></pre></div><p><strong>4.使用css-loader</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.css$/</span>,<span style="color:#75715e">//正则表达式匹配css文件
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//css-loader只负责css文件加载，不负责解析，要解析需要使用style-loader
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [{
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;css-loader&#39;</span>
        }]<span style="color:#75715e">//使用loader
</span><span style="color:#75715e"></span>      }
    ]
  }
}
</code></pre></div><blockquote>
<p>执行<code>npm run build</code>，提示打包成功，但是背景色并没有变红色，是因为css-loader只负责加载css文件，不负责解析，如果要将样式解析到dom元素中需要使用style-loader。</p>
</blockquote>
<p>5.安装使用style-loader</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev style-loader
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.css$/</span>,<span style="color:#75715e">//正则表达式匹配css文件
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//css-loader只负责css文件加载，不负责解析，要解析需要使用style-loader
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [{
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;style-loader&#39;</span>
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;css-loader&#39;</span>
        }]<span style="color:#75715e">//使用loader
</span><span style="color:#75715e"></span>      }
    ]
  }
</code></pre></div><blockquote>
<p>webpack使用多个loader是从右往左解析的，所以需要将css-loader放在style-loader右边，先加载后解析。</p>
</blockquote>
<p>此时样式成加载解析到DOM元素上。</p>
<p><img src="./images/15-11.png" alt=""></p>
<h3 id="1533less文件处理">15.3.3	less文件处理</h3>
<p><strong>1.在css文件夹中新增一个less文件</strong></p>
<blockquote>
<p>special.less</p>
</blockquote>
<pre><code class="language-less" data-lang="less">@fontSize:50px;//定义变量字体大小
@fontColor:orange;//定义变量字体颜色
body{
  font-size: @fontSize;
  color: @fontColor;
}
</code></pre><p><strong>2.main.js中导入less文件模块</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//5.依赖less文件
</span><span style="color:#75715e"></span><span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./css/special.less&#39;</span>)
<span style="color:#75715e">//6.向页面写入一些内容
</span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">writeln</span>(<span style="color:#e6db74">&#34;hello,zzzz!&#34;</span>)
</code></pre></div><p><strong>3.安装使用less-loader</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev less-loader less
</code></pre></div><p>在<code>webpack.config.js</code>中使用less-loader</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.less$/</span>,<span style="color:#75715e">//正则表达式匹配css文件
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//css-loader只负责css文件加载，不负责解析，要解析需要使用style-loader
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [{
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;style-loader&#39;</span>
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;css-loader&#39;</span>
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;less-loader&#39;</span><span style="color:#75715e">//less文件loader
</span><span style="color:#75715e"></span>        }]<span style="color:#75715e">//使用loader
</span><span style="color:#75715e"></span>      }
    ]
  }
</code></pre></div><p><strong>4.执行npm run build</strong></p>
<p><img src="./images/15-12.png" alt=""></p>
<p>less文件生效了，字体是orange，大小为50px。</p>
<h3 id="1534图片文件的处理">15.3.4	图片文件的处理</h3>
<blockquote>
<p>准备工作，准备两张图片，图片大小为一张8KB以下（实际大小为5KB，名称为small.jpg），一张大于8KB（实际大小为10KB，名称为big.jpg），新建一个img文件夹将两张图片放入。</p>
</blockquote>
<p><strong>1.修改normal.css样式，先使用小图片作为背景</strong></p>
<pre><code>body{
  /* background-color: red; */
  background: url(&quot;../img/small.jpg&quot;);
}
</code></pre><p>此时如果直接使用npm run build 直接打包会报错，因为css文件中引用了图片url，此时需要使用<strong>url-loader</strong>。</p>
<p><strong>2.安装使用url-loader处理图片</strong></p>
<p>url-loader像 file loader 一样工作，但如果文件小于限制，可以返回 <a href="https://tools.ietf.org/html/rfc2397">data URL</a> 。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev url-loader
</code></pre></div><p>配置</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.(png|jpg|gif)$/</span>,<span style="color:#75715e">//匹配png/jpg/gif格式图片
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;url-loader&#39;</span>,
            <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
              <span style="color:#a6e22e">limit</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">8192</span><span style="color:#75715e">//图片小于8KB时候将图片转成base64字符串，大于8KB需要使用file-loader
</span><span style="color:#75715e"></span>            }
          }
        ]
      }
</code></pre></div><p><strong>3.打包</strong></p>
<p>使用npm run build打包后，打开index.html。</p>
<p><img src="./images/15-13.png" alt=""></p>
<blockquote>
<p>小于<code>limit</code>大小的图片地址被编译成base64格式的字符串。</p>
</blockquote>
<p>此时修改css文件，使用big.jpg做背景。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#f92672">body</span>{
  <span style="color:#75715e">/* background-color: red; */</span>
  <span style="color:#75715e">/* background: url(&#34;../img/small.jpg&#34;); */</span>
  <span style="color:#66d9ef">background</span>: url(<span style="color:#e6db74">&#34;../img/big.jpg&#34;</span>);
}
</code></pre></div><p>再次打包，报错，提示未找到file-loader模块。</p>
<p><img src="./images/15-14.png" alt=""></p>
<blockquote>
<p>因为大于<code>limit</code>的图片需要<code>file-loader</code>来打包。</p>
</blockquote>
<p><strong>4.安装使用file-loader处理图片</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev file-loader
</code></pre></div><p>不需要配置，因为url-loader超过limit的图片会直接使用file-loader。</p>
<p>再次打包，没有报错，打包成功，但是图片未显示。</p>
<p><img src="./images/15-15.png" alt=""></p>
<blockquote>
<p>1.当加载的图片大小小于limit，使用base64将图片编译成字符串</p>
<p>2.当加载的图片大小大于limit，使用file-loader模块直接将big.jpg直接打包到dist文件家，文件名会使用hash值防止重复。</p>
<p>3.此时由于文件路径不对所以导致没有加载到图片</p>
</blockquote>
<p><img src="./images/15-16.png" alt=""></p>
<p><strong>5.如何使用file-loader，指定路径</strong></p>
<p>修改output属性</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">output</span><span style="color:#f92672">:</span>{
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),<span style="color:#75715e">//动态获取打包后的文件路径,path.resolve拼接路径
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span>,<span style="color:#75715e">//打包后的文件名
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">publicPath</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;dist/&#39;</span>
  },
</code></pre></div><p>此时打包，图片正常显示</p>
<p><img src="./images/15-17.png" alt=""></p>
<blockquote>
<p>注意：一般来说，index.html最终也会打包到dist文件夹下，所以，并不需要配置publicPath，如何打包index.html请看webpack处理.vue文件。</p>
</blockquote>
<blockquote>
<p>file-loader打包后，使用hash值做文件名太长，此时可以使用options的一些配置。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
              <span style="color:#a6e22e">limit</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">8192</span>,<span style="color:#75715e">//图片小于8KB时候将图片转成base64字符串，大于8KB需要使用file-loader
</span><span style="color:#75715e"></span>              <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;img/[name].[hash:8].[ext]&#39;</span><span style="color:#75715e">//img表示文件父目录，[name]表示文件名,[hash:8]表示将hash截取8位[ext]表示后缀
</span><span style="color:#75715e"></span>            }
</code></pre></div><blockquote>
<p>修改options，加上name属性，其中img表示文件父目录，[name]表示文件名,[hash:8]表示将hash截取8位[ext]表示后缀</p>
</blockquote>
<p>再次打包</p>
<p><img src="./images/15-18.png" alt=""></p>
<h3 id="1535es6语法处理">15.3.5	ES6语法处理</h3>
<p>webpack打包时候ES6语法没有打包成ES5语法，如果需要将ES6打包成ES5语法，那么就需要使用babel。直接使用babel对应的loader就可以了。</p>
<p>安装</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev babel-loader@7 babel-core babel-preset-es2015
</code></pre></div><p>配置</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.js$/</span>,
        <span style="color:#75715e">//排除node模块的js和bower的js
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">exclude</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/(node_modules|bower_components)/</span>,
        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;babel-loader&#39;</span>,
          <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
            <span style="color:#75715e">//如果要使用@babel/preset-env这里需要在根目录新建一个babel的文件
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// presets: [&#39;@babel/preset-env&#39;]
</span><span style="color:#75715e"></span>            <span style="color:#75715e">//这里直接使用指定
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">presets</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;es2015&#39;</span>]
          }
        }
      }
</code></pre></div><blockquote>
<p>1.如果要使用@babel/preset-env这里需要在根目录新建一个babel的文件</p>
<p>2.exclude排除不需要打包的文件</p>
</blockquote>
<h2 id="154webpack的vue">15.4	webpack的vue</h2>
<h3 id="1541简单安装使用vue">15.4.1	简单安装使用vue</h3>
<p>如果需要使用vue，必须使用npm先安装vue。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install vue --save	
</code></pre></div><p>使用vue简单开发。</p>
<blockquote>
<p>准备工作</p>
</blockquote>
<p>复制<code>03-webpack的loader</code>到同级目录，改名为<code>04-webpack的vue</code>，并在<code>04-webpack的vue</code>根目录执行<code>npm install vue --save	</code>，下载安装vue。</p>
<p><strong>1.在入口文件main.js导入已安装的vue，并在index.html声明要挂载的div。在main.js加入以下代码。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//6.使用vue开发
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;#app&#34;</span>,
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hello webpack and vue&#34;</span>
  }
})
</code></pre></div><p>修改index.html代码，添加</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
    &lt;<span style="color:#f92672">h2</span>&gt;{{message}}&lt;/<span style="color:#f92672">h2</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
</code></pre></div><p><strong>2.再次打包<code>npm run build</code>后打开index.html</strong></p>
<p><img src="./images/15-19.png" alt=""></p>
<p>发现message并没有正确显示，打开console发现vue报错。错误提示我们，正在使用<code>runtime-only</code>构建，不能将template模板编译。</p>
<blockquote>
<p>1.<code>runtime-only</code>模式，代码中不可以有任何template，因为无法解析。</p>
<p>2.<code>runtime-complier</code>模式，代码中可以有template，因为complier可以用于编译template。</p>
</blockquote>
<p>在webpack中配置，设置指定使用<code>runtime-complier</code>模式。</p>
<blockquote>
<p>webpack.config.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">resolve</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// alias:别名
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">alias</span><span style="color:#f92672">:</span> {
        <span style="color:#75715e">//指定vue使用vue.esm.js
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#39;vue$&#39;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;vue/dist/vue.esm.js&#39;</span>
    }
  }
</code></pre></div><p><strong>3.重新打包，显示正确</strong></p>
<p><img src="./images/15-20.png" alt=""></p>
<h3 id="1542如何分步抽取实现vue模块">15.4.2	如何分步抽取实现vue模块</h3>
<blockquote>
<p>创建vue的template和el关系</p>
<p>el表示挂载DOM的挂载点</p>
<p>template里面的html将替换挂载点</p>
</blockquote>
<p>一般我们使用vue会开发单页面富应用(single page application)，只有一个index.html，而且index.html都是简单结构。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
  &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">http-equiv</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;X-UA-Compatible&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ie=edge&#34;</span>&gt;
  &lt;<span style="color:#f92672">title</span>&gt;webpack入门&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;./dist/bundle.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p><strong>1.第一次抽取，使用template替换<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>。</strong></p>
<blockquote>
<p>修改mian.js的vue相关代码</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//6.使用vue开发
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Vue</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>

<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;#app&#34;</span>,
  <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span><span style="color:#e6db74">`
</span><span style="color:#e6db74">  &lt;div&gt;
</span><span style="color:#e6db74">    &lt;h2&gt;{{message}}&lt;/h2&gt;
</span><span style="color:#e6db74">    &lt;button @click=&#39;btnClick&#39;&gt;这是一个按钮&lt;/button&gt;
</span><span style="color:#e6db74">    &lt;h2&gt;{{name}}&lt;/h2&gt;
</span><span style="color:#e6db74">  &lt;/div&gt;
</span><span style="color:#e6db74">  `</span>,
  <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hello webpack and vue&#34;</span>,
    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zzzz&#39;</span>
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">btnClick</span>(){
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;按钮被点击了&#34;</span>)
    }
  },
})
</code></pre></div><p>使用template模板替换挂载的id为app的div元素，此时不需要修改html代码了，只需要写template。</p>
<p>再次打包，显示成功。</p>
<p><img src="./images/15-21.png" alt=""></p>
<p><strong>2.第二次抽取，使用组件化思想替换template</strong></p>
<p>考虑第一次抽取，写在template中，main.js的vue代码太冗余。</p>
<blockquote>
<p>修改main.js的代码</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//1.定义一个组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">App</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span><span style="color:#e6db74">  &lt;div&gt;
</span><span style="color:#e6db74">    &lt;h2&gt;{{message}}&lt;/h2&gt;
</span><span style="color:#e6db74">    &lt;button @click=&#39;btnClick&#39;&gt;这是一个按钮&lt;/button&gt;
</span><span style="color:#e6db74">    &lt;h2&gt;{{name}}&lt;/h2&gt;
</span><span style="color:#e6db74">  &lt;/div&gt;
</span><span style="color:#e6db74">  `</span>,
  <span style="color:#a6e22e">data</span>() {
    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hello webpack and vue&#34;</span>,
      <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zzzz&#39;</span>
    }
  },
  <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">btnClick</span>(){
      <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;按钮被点击了&#34;</span>)
    }
  },
}
</code></pre></div><blockquote>
<p>修改main.js，vue实例中注册组件，并使用组件</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Vue</span>({
  <span style="color:#a6e22e">el</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;#app&#34;</span>,
  <span style="color:#75715e">//使用组件
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&lt;App/&gt;&#39;</span>,
  <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">//注册局部组件
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">App</span>
  }
})
</code></pre></div><p>再次使用<code>npm run build</code>打包，打包成功，显示和使用template替换div一样。</p>
<p><strong>3.第三次抽取组件对象，封装到新的js文件，并使用模块化导入main.js</strong></p>
<p>此处我的vue-loader是15.7.2。</p>
<p><img src="./images/15-24.png" alt=""></p>
<p>将其修改为13.0.0</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;vue-loader&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;^13.0.0&#34;</span>
</code></pre></div><p>重新安装版本</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install
</code></pre></div><p>再次打包，打包成功，样式生效了。</p>
<p><img src="./images/15-25.png" alt=""></p>
<p><strong>6.组件化开发</strong></p>
<p>我们使用app.vue分离了模板、行为、样式，但是不可能所有的模板和样式都在一个vue文件内，所以要用组件化。</p>
<p>在vue文件夹下新建一个Cpn.vue文件</p>
<blockquote>
<p>Cpn.vue组件</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h2</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;title&#39;</span>&gt;{{<span style="color:#a6e22e">name</span>}}&lt;/<span style="color:#f92672">h2</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/ecmascript-6&#34;</span>&gt;
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Cpn&#34;</span>,
  <span style="color:#a6e22e">data</span>() {
      <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;组件名字是Cpn&#34;</span>
      };
    }
};
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">title</span> {
  <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">red</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>将Cpn.vue组件导入到App.vue</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">div</span>&gt;
    &lt;<span style="color:#f92672">h2</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;title&#39;</span>&gt;{{<span style="color:#a6e22e">message</span>}}&lt;/<span style="color:#f92672">h2</span>&gt;
    &lt;<span style="color:#f92672">button</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;btnClick&#34;</span>&gt;<span style="color:#a6e22e">按钮</span>&lt;/<span style="color:#f92672">button</span>&gt;
    &lt;<span style="color:#f92672">h2</span>&gt;{{<span style="color:#a6e22e">name</span>}}&lt;/<span style="color:#f92672">h2</span>&gt;
    <span style="color:#75715e">&lt;!--</span> <span style="color:#a6e22e">使用Cpn组件</span> <span style="color:#f92672">--&gt;</span>
    &lt;<span style="color:#f92672">Cpn</span>/&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/ecmascript-6&#34;</span>&gt;
<span style="color:#75715e">//导入Cpn组件
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Cpn</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./Cpn.vue&#39;</span>
<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;App&#34;</span>,
  <span style="color:#a6e22e">data</span>() {
      <span style="color:#66d9ef">return</span> {
        <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;hello webpack&#34;</span>,
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;zzz&#34;</span>
      };
    },
    <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
      <span style="color:#a6e22e">btnclick</span>() {}
    },
    <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
      <span style="color:#a6e22e">Cpn</span><span style="color:#75715e">//注册Cpn组件
</span><span style="color:#75715e"></span>    }
};
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span> <span style="color:#a6e22e">scoped</span>&gt;
.<span style="color:#a6e22e">title</span> {
  <span style="color:#a6e22e">color</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">green</span>;
}
&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>再次打包，打开index.html，cpn组件的内容显示</p>
<p><img src="./images/15-26.png" alt=""></p>
<p>基于此，一个vue文件可以依赖导入很多vue文件，组成一个单页面富应用。</p>
<blockquote>
<p>如果你在使用ES6语法导入模块时候想要简写的时候，例如这样省略<code>.vue</code>后缀</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Cpn</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./Cpn&#39;</span>
</code></pre></div><p>可以在<code>webpack.config.js</code>中配置：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">resolve</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">//导入模块简写省略指定后缀
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">extensions</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;.js&#39;</span>, <span style="color:#e6db74">&#39;.css&#39;</span>, <span style="color:#e6db74">&#39;.vue&#39;</span>],
    <span style="color:#75715e">// alias:别名
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">alias</span><span style="color:#f92672">:</span> {
      <span style="color:#75715e">//指定vue使用vue.esm.js
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#39;vue$&#39;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;vue/dist/vue.esm.js&#39;</span>
    }
  }
</code></pre></div><h2 id="155webpack的plugin">15.5	webpack的plugin</h2>
<p>plugin插件用于扩展webpack的功能的扩展，例如打包时候优化，文件压缩。</p>
<p><strong>loader和plugin的区别</strong></p>
<p>loader主要用于转化某些类型的模块，是一个转化器。</p>
<p>plugin主要是对webpack的本身的扩展，是一个扩展器。</p>
<p><strong>plugin的使用过程</strong></p>
<p>步骤一：通过npm安装需要使用的plugins(某些webpack已经内置的插件不需要在安装)</p>
<p>步骤二：在<strong>webpack.config.js</strong>中的plugins中配置插件。</p>
<blockquote>
<p>准备工作</p>
<p>复制04-webpack的vue到同级目录，并改名为05-webpack的plugin</p>
</blockquote>
<h3 id="1551添加版权的plugin">15.5.1	添加版权的Plugin</h3>
<p>BannerPlugin插件是属于webpack自带的插件可以添加版权信息。</p>
<p>自带的插件无需安装，直接配置。</p>
<p>先获取webpack的对象，在配置BannerPlugin插件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//获取webpack
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">webpack</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack&#39;</span>)
<span style="color:#75715e">//2.配置plugins
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
    ...
    <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span>[
        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">webpack</span>.<span style="color:#a6e22e">BannerPlugin</span>(<span style="color:#e6db74">&#39;最终解释权归zz所有&#39;</span>)
      ]
}
</code></pre></div><p><img src="./images/15-27.png" alt=""></p>
<p>打包后，查看bundle.js，结果如图所示：</p>
<p><img src="./images/15-28.png" alt=""></p>
<p>多了一行我们自定义的版权声明注释。</p>
<h3 id="1552打包html的plugin">15.5.2	打包html的plugin</h3>
<p>之前我们的index.html文件都是存放在根目录下的。</p>
<p>在正式发布项目的时候发布的是dist文件夹的内容，但是dist文件夹是没有index.html文件的，那么打包就没有意义了。</p>
<p>所以我们需要将index.html也打包到dist文件夹中，这就需要使用**<code>HtmlWebpackPlugin</code>**插件了。</p>
<blockquote>
<p><strong><code>HtmlWebpackPlugin</code></strong>：</p>
<p>自动生成一个index.html文件（指定模板）</p>
<p>将打包的js文件，自动同script标签插入到body中</p>
</blockquote>
<p>首先需要安装**<code>HtmlWebpackPlugin</code>**插件</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install html-webpack-plugin --save-dev	
</code></pre></div><p>使用插件，修改webpack.config.js文件中的plugins部分</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//获取htmlWebpackPlugin对象
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">htmlWbepackPlugin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;html-webpack-plugin&#39;</span>)
<span style="color:#75715e">//2.配置plugins
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
    ...
    <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span>[
        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">webpack</span>.<span style="color:#a6e22e">BannerPlugin</span>(<span style="color:#e6db74">&#39;最终解释权归zz所有&#39;</span>),
        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">htmlWbepackPlugin</span>({
          <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index.html&#39;</span>
        })
      ]
}
</code></pre></div><blockquote>
<p>1.template表示根据哪个模板来生成index.html</p>
<p>2.需要删除output中添加的publicPath属性，否则插入的script标签的src可能有误</p>
</blockquote>
<p>再次打包，打开dist文件夹，多了一个index.html</p>
<p><img src="./images/15-29.png" alt=""></p>
<p>自动加入了script引入了bundle.js。</p>
<h3 id="1553压缩打包代码插件">15.5.3	压缩打包代码插件</h3>
<p>uglifyjs-webpack-plugin是第三方插件，如果是vuecli2需要指定版本1.1.1。</p>
<p>安装：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install uglifyjs-webpack-plugin@1.1.1 --save-dev
</code></pre></div><p>配置plugin</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//获取uglifyjs-webpack-plugin对象
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uglifyjsWebpackPlugin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;uglifyjs-webpack-plugin&#39;</span>)
<span style="color:#75715e">//2.配置plugins
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
    ...
    <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span>[
        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">webpack</span>.<span style="color:#a6e22e">BannerPlugin</span>(<span style="color:#e6db74">&#39;最终解释权归zz所有&#39;</span>),
        <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">htmlWbepackPlugin</span>({
          <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index.html&#39;</span>
        }),
    	<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">uglifyjsWebpackPlugin</span>()
      ]
}
</code></pre></div><p>打包过后，打开bundle.js，发现已经压缩了，此时版权声明被删除了。</p>
<p><img src="./images/15-30.png" alt=""></p>
<blockquote>
<p>webpack高版本自带了压缩插件。</p>
</blockquote>
<h2 id="156webpack搭建本地服务器">15.6	webpack搭建本地服务器</h2>
<p>webpack提供了一个可选的本地开发服务器，这个本地服务器基于node.js搭建，内部使用了express框架，可以实现热启动。</p>
<blockquote>
<p>准备工作复制05-webpack的plugin文件夹到同级目录，并改名为06-webpack搭建本地服务器。</p>
</blockquote>
<p>不过这是一个单独的模块，在webpack中使用之前需要先安装：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm install --save-dev webpack-dev-server@2.9.1
</code></pre></div><p>devServe也是webpack中一个选项，选项本省可以设置一些属性：</p>
<ul>
<li>contentBase：为哪个文件夹提供本地服务，默认是根文件夹，这里我们需要改成./dist</li>
<li>port：端口号</li>
<li>inline：页面实时刷新</li>
<li>historyApiFallback：在SPA（单页面富应用）页面中，依赖HTML5的history模式</li>
</ul>
<p>修改webpack.config.js的文件配置</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//2.配置webpack的入口和出口
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
 ...
  <span style="color:#a6e22e">devServer</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">contentBase</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./dist&#39;</span>,<span style="color:#75715e">//服务的文件夹
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">port</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4000</span>,
    <span style="color:#a6e22e">inline</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span><span style="color:#75715e">//是否实时刷新
</span><span style="color:#75715e"></span>  }

}

</code></pre></div><p>配置package.json的script：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;dev&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> <span style="color:#e6db74">&#34;webpack-dev-server --open&#34;</span>
</code></pre></div><blockquote>
<p>&ndash;open表示直接打开浏览器</p>
</blockquote>
<p>启动服务器</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm run dev
</code></pre></div><p>启动成功，自动打开浏览器，发现在本地指定端口启动了，此时你修改src文件内容，<strong>会热修改。</strong></p>
<p><img src="./images/15-31.png" alt=""></p>
<blockquote>
<p>1.服务器启动在内存中。</p>
<p>2.开发调试时候最好不要使用压缩js文件的插件，不易调试。</p>
</blockquote>
<h2 id="157webpack的配置文件分离">15.7	webpack的配置文件分离</h2>
<p><code>webpack.config.js</code>文件中有些是开发时候需要配置，有些事生产环境发布编译需要的配置，比如搭建本地服务器的devServer配置就是开发时配置，接下来我们分析如何分离配置文件。</p>
<blockquote>
<p>准备工作：复制06-webpack搭建本地服务器文件夹到同级目录，并改名为07-webpack的配置文件分离。</p>
</blockquote>
<p>在根目录下新建一个<code>build</code>的文件夹，新建配置文件。</p>
<blockquote>
<p>base.config.js（公共的配置）</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//1.导入node的path包获取绝对路径，需要使用npm init初始化node包
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;path&#39;</span>)
<span style="color:#75715e">//获取webpack
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">webpack</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack&#39;</span>)
<span style="color:#75715e">//获取htmlWebpackPlugin对象
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">htmlWbepackPlugin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;html-webpack-plugin&#39;</span>)

<span style="color:#75715e">//2.配置webpack的入口和出口
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./src/main.js&#39;</span>,<span style="color:#75715e">//入口文件
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">output</span><span style="color:#f92672">:</span>{
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),<span style="color:#75715e">//动态获取打包后的文件路径,path.resolve拼接路径
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span>,<span style="color:#75715e">//打包后的文件名
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// publicPath: &#39;dist/&#39;
</span><span style="color:#75715e"></span>  },
  <span style="color:#a6e22e">module</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> [
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.css$/</span>,<span style="color:#75715e">//正则表达式匹配css文件
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//css-loader只负责css文件加载，不负责解析，要解析需要使用style-loader
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [{
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;style-loader&#39;</span>
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;css-loader&#39;</span>
        }]<span style="color:#75715e">//使用loader
</span><span style="color:#75715e"></span>      },
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.less$/</span>,<span style="color:#75715e">//正则表达式匹配css文件
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//css-loader只负责css文件加载，不负责解析，要解析需要使用style-loader
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [{
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;style-loader&#39;</span>
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;css-loader&#39;</span>
        }, {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;less-loader&#39;</span><span style="color:#75715e">//less文件loader
</span><span style="color:#75715e"></span>        }]<span style="color:#75715e">//使用loader
</span><span style="color:#75715e"></span>      },
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.(png|jpg|gif)$/</span>,<span style="color:#75715e">//匹配png/jpg/gif格式图片
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> [
          {
            <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;url-loader&#39;</span>,
            <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
              <span style="color:#a6e22e">limit</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">8192</span>,<span style="color:#75715e">//图片小于8KB时候将图片转成base64字符串，大于8KB需要使用file-loader
</span><span style="color:#75715e"></span>              <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;img/[name].[hash:8].[ext]&#39;</span><span style="color:#75715e">//img表示文件父目录，[name]表示文件名,[hash:8]表示将hash截取8位[ext]表示后缀
</span><span style="color:#75715e"></span>            }
          }
        ]
      },
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.js$/</span>,
        <span style="color:#75715e">//排除node模块的js和bower的js
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">exclude</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/(node_modules|bower_components)/</span>,
        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;babel-loader&#39;</span>,
          <span style="color:#a6e22e">options</span><span style="color:#f92672">:</span> {
            <span style="color:#75715e">//如果要使用@babel/preset-env这里需要在根目录新建一个babel的文件
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// presets: [&#39;@babel/preset-env&#39;]
</span><span style="color:#75715e"></span>            <span style="color:#75715e">//这里直接使用指定
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">presets</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;es2015&#39;</span>]
          }
        }
      },
      {
        <span style="color:#a6e22e">test</span><span style="color:#f92672">:</span> <span style="color:#e6db74">/\.vue$/</span>,<span style="color:#75715e">//正则匹配.vue文件
</span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use</span><span style="color:#f92672">:</span> {
          <span style="color:#a6e22e">loader</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;vue-loader&#39;</span>
        }
      }
    ]
  },
  <span style="color:#a6e22e">resolve</span><span style="color:#f92672">:</span> {
    <span style="color:#75715e">// alias:别名
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">alias</span><span style="color:#f92672">:</span> {
      <span style="color:#75715e">//指定vue使用vue.esm.js
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#39;vue$&#39;</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;vue/dist/vue.esm.js&#39;</span>
    }
  },
  <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span>[
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">webpack</span>.<span style="color:#a6e22e">BannerPlugin</span>(<span style="color:#e6db74">&#39;最终解释权归zz所有&#39;</span>),
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">htmlWbepackPlugin</span>({
      <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;index.html&#39;</span>
    })
  ]
}
</code></pre></div><blockquote>
<p>dev.config.js（开发时候需要的配置）</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">devServer</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">contentBase</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./dist&#39;</span>,<span style="color:#75715e">//服务的文件夹
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">port</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4000</span>,
    <span style="color:#a6e22e">inline</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span><span style="color:#75715e">//是否实时刷新
</span><span style="color:#75715e"></span>  }
}
</code></pre></div><blockquote>
<p>prod.config.js（构建发布时候需要的配置）</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uglifyjsWebpackPlugin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;uglifyjs-webpack-plugin&#39;</span>)

<span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span>[
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">uglifyjsWebpackPlugin</span>()
  ]
}
</code></pre></div><p>此时我们将<code>webpack.config.js</code>文件分成了三个部分，公共部分、开发部分、构建发布的部分。</p>
<blockquote>
<p>1.如果此时是dev环境，我们只需要使用<code>base.config.js</code>+<code>dev.config.js</code>的内容</p>
<p>2.如果此时是生产发布构建的环境，我们只需要使用<code>base.config.js</code>+<code>prod.config.js</code>的内容</p>
</blockquote>
<p>要将两个文件内容合并需要使用<code>webpack-merge</code>插件，安装<code>webpack-merge</code>。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">npm isntall webpack-merge --save-dev
</code></pre></div><p>合并内容都是将<code>base.config.js</code>的内容合并到dev或者prod的文件中，修改<code>dev.config.js</code>和<code>prod.config.js</code>文件。</p>
<blockquote>
<p>修改dev.config.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">//导入webpack-merge对象
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">webpackMerge</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack-merge&#39;</span>)
<span style="color:#75715e">//导入base.config.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">baseConfig</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./base.config&#39;</span>)

<span style="color:#75715e">//使用webpackMerge将baseConfig和dev.config的内容合并
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">webpackMerge</span>(<span style="color:#a6e22e">baseConfig</span>, {
  <span style="color:#a6e22e">devServer</span><span style="color:#f92672">:</span> {
    <span style="color:#a6e22e">contentBase</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./dist&#39;</span>,<span style="color:#75715e">//服务的文件夹
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">port</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">4000</span>,
    <span style="color:#a6e22e">inline</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span><span style="color:#75715e">//是否实时刷新
</span><span style="color:#75715e"></span>  }

})

</code></pre></div><blockquote>
<p>修改prod.config.js</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">uglifyjsWebpackPlugin</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;uglifyjs-webpack-plugin&#39;</span>)
<span style="color:#75715e">//导入webpack-merge对象
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">webpackMerge</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;webpack-merge&#39;</span>)
<span style="color:#75715e">//导入base.config.js
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">baseConfig</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;./base.config&#39;</span>)

<span style="color:#75715e">//使用webpackMerge将baseConfig和prod.config的内容合并
</span><span style="color:#75715e"></span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">webpackMerge</span>(<span style="color:#a6e22e">baseConfig</span>, {
  <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span>[
    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">uglifyjsWebpackPlugin</span>()
  ]
})
</code></pre></div><p>此时我们使用三个文件构成了配置文件，此时在不同环境使用不同的配置文件，但是webpack不知道我们新配置文件，此时我们需要在package.json中的script指定要使用的配置文件。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="color:#e6db74">&#34;scripts&#34;</span><span style="color:#960050;background-color:#1e0010">:</span> {
    <span style="color:#f92672">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;webpack --config ./build/prod.config.js&#34;</span>,
    <span style="color:#f92672">&#34;dev&#34;</span>: <span style="color:#e6db74">&#34;webpack-dev-server --open --config ./build/dev.config.js&#34;</span>
  }
</code></pre></div><p>此时使用<code>npm run build</code>打包文件，dist文件并不在根目录下，因为我们在<code>base.config.js</code>中配置的出口文件使用的是当前文件的路径，即打包的根路径是配置文件的当前路径，也就是build文件夹。</p>
<p><img src="./images/15-32.png" alt=""></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#a6e22e">entry</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;./src/main.js&#39;</span>,<span style="color:#75715e">//入口文件
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">output</span><span style="color:#f92672">:</span>{
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;dist&#39;</span>),<span style="color:#75715e">//动态获取打包后的文件路径,path.resolve拼接路径
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span>,<span style="color:#75715e">//打包后的文件名
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// publicPath: &#39;dist/&#39;
</span><span style="color:#75715e"></span>  }
</code></pre></div><blockquote>
<p>注意：__dirname是当前文件路径，path.resolve拼接路径，所以在当前路径下创建了一个dist文件夹。</p>
</blockquote>
<p>此时修改output属性：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">output</span><span style="color:#f92672">:</span>{
    <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">resolve</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">dirname</span>, <span style="color:#e6db74">&#39;../dist&#39;</span>),<span style="color:#75715e">//动态获取打包后的文件路径,path.resolve拼接路径
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">filename</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bundle.js&#39;</span>,<span style="color:#75715e">//打包后的文件名
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// publicPath: &#39;dist/&#39;
</span><span style="color:#75715e"></span>  }
</code></pre></div><blockquote>
<p>使用<code>../dist</code>，在当前目录的上级目录创建dist文件夹</p>
</blockquote>
<div class="edit-meta">
Last updated on 17 Jun 2021


<br>
Published on 17 Jun 2021
<br></div><nav class="pagination"><a class="nav nav-prev" href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/uniapp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" title="uniapp基础知识 "><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - uniapp基础知识 </a>
<a class="nav nav-next" href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/javascript/" title="javascript ">Next - javascript  <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">

 <ul>
  <li>当你的才华还撑不起你的野心时,</li>
  <li>那你就应该静下心来学习;</li>
  <li>当你的能力还驾驭不了你的目标时,</li>
  <li>那就应该沉下心来历练.</li>
</ul>
</p>
</footer>
</main>
<div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://huachengzhou.github.io/cycle/">Home</a></li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/computer_network/">计算机网络 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/">网络体系结构<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/1.1.1%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%A6%82%E5%BF%B5-%E7%BB%84%E6%88%90-%E5%8A%9F%E8%83%BD-%E5%88%86%E7%B1%BB/">计算机概念 组成 功能 分类 * </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/1.1.2%E6%A0%87%E5%87%86%E5%8C%96%E5%B7%A5%E4%BD%9C%E5%8F%8A%E7%9B%B8%E5%85%B3%E7%BB%84%E7%BB%87/">标准的分类</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/1.1.3%E9%80%9F%E7%8E%87%E7%9B%B8%E5%85%B3%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87/">速率</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/%E5%88%86%E5%B1%82%E7%BB%93%E6%9E%84/">分层结构</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/%E5%88%86%E5%B1%82%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B/">分层参考模型</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_architecture/%E6%A8%A1%E5%9E%8B%E5%B1%82%E6%AC%A1%E8%AF%A6%E8%A7%A3/">模型层次详解</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/computer_network/physical_layer/">物理层 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/physical_layer/%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">数据通信基础知识 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/physical_layer/%E7%89%A9%E7%90%86%E5%B1%82%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">物理层基本概念 </a></li>
</ul>
  
</li>

<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/data_link_layer/">数据链路层 </a>
  
</li>

<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/network_layer/">网络层 </a>
  
</li>

<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/transport_layer/">传输层 </a>
  
</li>

<li class=""><a href="https://huachengzhou.github.io/cycle/computer_network/application_layer/">应用层 </a>
  
</li>
</ul>
  
</li>

<li class="parent has-sub-menu"><a href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/">脚本<span class="mark opened">-</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/uniapp%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">uniapp基础知识 </a></li>
<li class="active"><a href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/webpack/">webpack </a></li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/javascript/">javascript <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/%E8%84%9A%E6%9C%AC/javascript/es6/">ECMAScript 6</a></li>
</ul>
  
</li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/"> Java技术栈<span class="mark closed">+</span></a>
  
<ul class="sub-menu">

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/basedir/">Java基础知识 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/basedir/jsp_dir/">jsp 基础知识 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/basedir/jsp_dir/java_%E7%9B%91%E5%90%AC%E4%BA%8B%E4%BB%B6%E5%8E%9F%E7%90%86/">java_监听事件原理 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/basedir/jsp_dir/jsp_el%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/">EL基础教程 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/basedir/jsp_dir/jsp_jstl_core%E6%A0%87%E7%AD%BE%E5%BA%93/">jsp jstl core 标签库 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/basedir/jsp_dir/jsp_jstl_session/">jsp jstl session </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/basedir/jsp_dir/jsp_%E5%AD%97%E7%AC%A6%E4%B8%B2el%E8%A1%A8%E8%BE%BE%E5%BC%8F/">字符串el表达式 </a></li>
</ul>
  
</li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/groovy/">groovy 学习与使用 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E5%AD%A6%E4%B9%A0/"> Groovy 概述 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/">groovy 基本概念 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">groovy 数据类型 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%8A%A0%E5%BC%BA/"> groovy变量和数据类型 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/%E5%A6%82%E4%BD%95%E5%9C%A8groovy%E4%B8%AD%E8%8E%B7%E5%8F%96%E4%BB%A5%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E5%91%BD%E5%90%8D%E7%9A%84%E5%8F%98%E9%87%8F%E7%9A%84%E5%80%BC/"> groovy变量值获取 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E4%B8%AD%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%AF%94%E8%BE%83%E4%BB%A5%E5%8F%8A%E9%9D%9E%E7%A9%BA%E5%88%A4%E6%96%AD/"> groovy对象比较以及空判断 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF/"> groovy使用场景 </a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/groovy/groovy%E5%8F%98%E9%87%8F/"></a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/">Java公共库文档总结 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/apache-common%E5%B7%A5%E5%85%B7%E5%8C%85/">Apache Commons 工具类介绍及简单使用</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/commons_io/">apache FilenameUtils 文件名称操作</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/dom4j/">dom4j</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/guava-common/">Guava 基于java1.6的类库集合的扩展项目</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/jsoup/">jsoup学习文档</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/spring%E5%B7%A5%E5%85%B7/">spring工具类</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/spring%E5%B8%B8%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E7%B1%BB/">spring常用的工具类</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/tooldoc/js_console%E7%94%A8%E6%B3%95/">常用 Console 调试命令</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/linux/">linux 学习与使用 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/git_introduction/">git学习</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/gitub_config/">git配置</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/host%E6%98%A0%E5%B0%84/">host映射</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/linux%E4%B8%8B%E8%AE%BE%E7%BD%AE%E5%92%8C%E6%9F%A5%E7%9C%8B%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">Linux下设置和查看环境变量</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/linux%E5%91%BD%E4%BB%A4/">linux命令</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/nginx/">nginx学习</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/notepad&#43;&#43;%E5%AE%89%E8%A3%85/">Notepad&#43;&#43; 学习与使用</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/ubuntu16.04%E4%BF%AE%E6%94%B9hosts/">Ubuntu 16.04修改hosts</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/ubuntu%E5%AE%89%E8%A3%85chmsee/">ubuntu安装chmsee</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/ubuntu%E6%B8%85%E7%90%86%E7%B3%BB%E7%BB%9F%E5%9E%83%E5%9C%BE/">Ubuntu清理系统垃圾</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/linux/ubuntu%E8%BD%AF%E4%BB%B6%E5%8D%B8%E8%BD%BD/">ubuntu软件卸载</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/javadir/middleware/">中间件 <span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/javadir/middleware/redis/">Redis 学习与使用</a></li>
</ul>
  
</li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/databases/"> 数据库<span class="mark closed">+</span></a>
  
<ul class="sub-menu">

<li class=" has-sub-menu"><a href="https://huachengzhou.github.io/cycle/databases/mysql_163%E8%AF%BE%E5%A0%82/">网易云课堂MySQL微专业学习笔记<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://huachengzhou.github.io/cycle/databases/mysql_163%E8%AF%BE%E5%A0%82/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter3/">MySQL事务与存储引擎</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/databases/mysql_163%E8%AF%BE%E5%A0%82/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter4/">MySQL应用优化</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/databases/mysql_163%E8%AF%BE%E5%A0%82/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter1/">MySQL数据库基础</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/databases/mysql_163%E8%AF%BE%E5%A0%82/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter2/">MySQL数据库对象与应用</a></li>
<li class=""><a href="https://huachengzhou.github.io/cycle/databases/mysql_163%E8%AF%BE%E5%A0%82/%E7%BD%91%E6%98%93%E4%BA%91%E8%AF%BE%E5%A0%82mysql_chapter5/">MySQL运维实践</a></li>
</ul>
  
</li>
</ul>
  
</li>


</ul>
</nav>



<div class="sidebar-footer"></div>
</div>

</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
